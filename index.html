<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Gift Donate</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <style>
        /* --- GLOBAL & PREFERENCES --- */
        body { 
            margin: 0; 
            padding: 0; 
            font-family: 'Nunito', sans-serif; 
            background-color: #1a1a1a; 
            overflow: hidden; 
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* --- DEVICE FRAME --- */
        .app-container {
            width: 100%;
            max-width: 450px; 
            height: 100%;
            max-height: 850px; 
            background-color: #fff;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
        }

        @media (min-width: 768px) {
            .app-container {
                border-radius: 20px;
                border: 8px solid #2d2d2d; 
                height: 90vh;
            }
        }

        /* --- VISUALS --- */
        .roblox-font { font-family: 'Fredoka One', cursive; letter-spacing: 0.5px; }
        .hidden { display: none !important; }
        
        .screen {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            overflow-y: auto;
            background: #fff;
            transition: transform 0.4s cubic-bezier(0.4, 0.0, 0.2, 1), opacity 0.4s;
            opacity: 0;
            pointer-events: none;
            transform: scale(0.95);
        }
        .screen.active {
            opacity: 1;
            pointer-events: auto;
            transform: scale(1);
            z-index: 10;
        }

        .btn-3d {
            transition: transform 0.1s, border-bottom-width 0.1s;
        }
        .btn-3d:active {
            transform: translateY(4px);
            border-bottom-width: 0px !important;
            margin-bottom: 4px;
        }

        /* --- LOGIN STYLES --- */
        .header-bg { 
            background: linear-gradient(135deg, #e91e63, #c2185b);
            border-bottom: 4px solid #880e4f;
        }
        
        .input-group {
            background-color: #f3f4f6;
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            padding: 12px;
            margin-bottom: 20px;
            transition: 0.2s;
        }
        .input-group:focus-within {
            border-color: #e91e63;
            background-color: #fff;
            box-shadow: 0 4px 12px rgba(233, 30, 99, 0.15);
        }
        .input-group input { width: 100%; background: transparent; border: none; outline: none; font-size: 16px; color: #374151; font-weight: 700; }
        
        .label-text { font-size: 13px; font-weight: 900; color: #6b7280; text-transform: uppercase; margin-bottom: 8px; display: block; letter-spacing: 0.8px; }
        
        .btn-blue {
            background-color: #3b82f6; 
            color: white; 
            width: 100%; 
            padding: 16px; 
            border-radius: 16px; 
            font-size: 20px; 
            font-family: 'Fredoka One', cursive;
            text-transform: uppercase; 
            letter-spacing: 1px; 
            border-bottom: 6px solid #1d4ed8; 
            cursor: pointer; 
        }

        /* Toggle */
        .gift-wrap { display: flex; justify-content: space-between; align-items: center; background-color: #ecfdf5; padding: 12px 16px; border-radius: 16px; border: 2px solid #a7f3d0; margin-bottom: 24px; }
        .toggle-bg { position: relative; width: 56px; height: 32px; background-color: #10b981; border-radius: 30px; cursor: pointer; transition: 0.3s; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1); }
        .toggle-bg.off { background-color: #d1d5db; }
        .toggle-dot { position: absolute; top: 4px; right: 4px; width: 24px; height: 24px; background-color: white; border-radius: 50%; transition: 0.3s; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
        .toggle-bg.off .toggle-dot { right: 28px; }

        /* --- STAND STYLES --- */
        .wood-leg { position: fixed; bottom: 0; width: 30px; height: 100%; background: repeating-linear-gradient(90deg, #8d5e3a, #7a4e2e 10px); z-index: 0; border-radius: 8px; border: 2px solid #5d3a22; }
        .wood-plank { 
            background-image: url('https://www.transparenttextures.com/patterns/wood-pattern.png'); 
            background-color: #b37a4c; 
            border: 3px solid #6d4c41;
            border-bottom: 8px solid #5d4037; 
            border-radius: 12px; 
            position: relative; 
            z-index: 10; 
            box-shadow: 0 10px 20px rgba(0,0,0,0.3); 
        }

        .btn-robux {
            background-color: #4caf50; 
            border-bottom: 5px solid #2e7d32; 
            color: white; 
            font-weight: 800;
            border-radius: 12px; 
            padding: 12px 5px; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            gap: 6px; 
            font-size: 14px; 
            width: 100%;
            text-shadow: 1px 1px 0 rgba(0,0,0,0.2);
        }

        /* --- MODALS --- */
        .modal-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); backdrop-filter: blur(4px); display: flex; align-items: center; justify-content: center; z-index: 100; opacity: 0; pointer-events: none; transition: opacity 0.3s; }
        .modal-bg.active { opacity: 1; pointer-events: auto; }
        
        .card-dark { background-color: #1f2937; width: 90%; max-width: 380px; border-radius: 24px; overflow: hidden; color: white; transform: scale(0.9); transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); border: 2px solid #374151; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5); }
        .modal-bg.active .card-dark { transform: scale(1); }
        
        .card-light { background-color: white; width: 90%; max-width: 380px; border-radius: 24px; overflow: hidden; transform: scale(0.9); transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); max-height: 85%; display: flex; flex-direction: column; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }
        .modal-bg.active .card-light { transform: scale(1); }

        /* --- OFFERS --- */
        .offers-scroll-container {
            max-height: 320px; 
            overflow-y: auto;  
            padding-right: 5px; 
        }
        .offers-scroll-container::-webkit-scrollbar { width: 6px; }
        .offers-scroll-container::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 4px; }
        .offers-scroll-container::-webkit-scrollbar-thumb { background: #e91e63; border-radius: 4px; }

        .offer-card { 
            background: #fff; 
            border: 2px solid #f3f4f6; 
            border-bottom: 4px solid #e5e7eb; 
            border-radius: 12px; 
            padding: 14px; 
            margin-bottom: 12px; 
            cursor: pointer; 
            transition: 0.2s; 
            display: flex; flex-direction: column; gap: 4px; position: relative; 
        }
        .offer-card:hover { border-color: #e91e63; transform: translateY(-2px); }
        .offer-card:active { transform: translateY(1px); border-bottom-width: 2px; }
        
        /* New Offer Animation */
        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .offer-card.new-item { animation: slideInUp 0.5s ease-out forwards; }
        
        .hot-sticker {
            position: absolute; top: -10px; right: 10px; left: auto;
            background: linear-gradient(45deg, #ff4d4d, #f44336); color: white; padding: 4px 8px;
            border-radius: 20px; font-size: 10px; font-weight: 900;
            text-transform: uppercase; z-index: 5;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            transform: rotate(5deg);
        }

        .spinner { border: 4px solid #f3f3f3; border-top: 4px solid #e91e63; border-radius: 50%; width: 30px; height: 30px; animation: spin 0.8s linear infinite; margin: 0 auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <audio id="sfx-click" src="data:audio/wav;base64,UklGRi4AAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAA=="></audio>
    <audio id="sfx-btn" src="data:audio/wav;base64,UklGRjIAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAA=="></audio>

    <div class="app-container">
        
        <div id="screen-login" class="screen active flex flex-col">
            <div class="header-bg p-4 flex justify-between items-center shadow-md z-10">
                <div class="flex items-center gap-2">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Robux_2019_Logo_gold.svg" width="24" class="animate-bounce">
                    <span class="text-white roblox-font text-2xl tracking-tight shadow-text">GIFT DONATE</span>
                </div>
                <span class="text-white text-2xl cursor-pointer opacity-80 hover:opacity-100 transition" onclick="playSfx('click')">âœ•</span>
            </div>

            <div class="flex-1 flex flex-col items-center px-6 pt-8 overflow-y-auto">
                <h1 class="text-gray-800 text-2xl roblox-font uppercase tracking-wide mb-2">Offline Donation</h1>
                <p class="text-gray-500 text-center text-sm font-semibold mb-8 leading-relaxed max-w-xs">
                    Donate to people outside your server or offline by sending gifts! We'll tell them when they join the game!
                </p>

                <div class="w-full max-w-sm">
                    <label class="label-text">Send to</label>
                    <div class="input-group">
                        <input type="text" id="username-input" placeholder="Enter Username..." onfocus="playSfx('click')">
                    </div>

                    <label class="label-text">Message (Optional)</label>
                    <div class="input-group">
                        <input type="text" placeholder="Enter Message..." onfocus="playSfx('click')">
                    </div>

                    <div class="gift-wrap">
                        <div class="flex items-center gap-3">
                            <span class="font-bold text-emerald-700 text-sm">ADD GIFT WRAP</span>
                            <img src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Robux_2019_Logo_gold.svg" width="20">
                        </div>
                        <div class="toggle-bg" id="gift-toggle" onclick="toggleSwitch(this)">
                            <div class="toggle-dot"></div>
                        </div>
                    </div>

                    <button id="btn-proceed" onclick="handleUserCheck()" class="btn-blue btn-3d mt-4 shadow-lg">
                        PROCEED
                    </button>
                    
                    <p class="text-xs text-center text-gray-400 mt-6 font-bold">Safe & Secure Transfer</p>
                </div>
            </div>
        </div>

        <div id="screen-stand" class="screen flex flex-col items-center pt-20">
            <div class="wood-leg" style="left: 30px;"></div>
            <div class="wood-leg" style="right: 30px;"></div>

            <div class="wood-plank px-12 py-4 mb-4 transform rotate-1">
                <h1 id="stand-title" class="text-white text-2xl roblox-font drop-shadow-md text-center">User's Stand</h1>
            </div>

            <div class="z-20 mb-8 h-48 w-48 relative group">
                <div class="absolute inset-0 bg-white opacity-20 blur-xl rounded-full group-hover:opacity-30 transition"></div>
                <img id="stand-avatar" src="" class="w-full h-full object-contain drop-shadow-2xl transition transform group-hover:scale-105 duration-300">
            </div>

            <div class="wood-plank w-[90%] max-w-sm py-6 flex justify-between gap-3 px-5 mb-auto">
                <button onclick="showConfirm(2500); playSfx('btn')" class="btn-robux btn-3d active:scale-95">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Robux_2019_Logo_gold.svg" width="18"> 2,500
                </button>
                <button onclick="showConfirm(5000); playSfx('btn')" class="btn-robux btn-3d active:scale-95">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Robux_2019_Logo_gold.svg" width="18"> 5,000
                </button>
                <button onclick="showConfirm(10000); playSfx('btn')" class="btn-robux btn-3d active:scale-95">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Robux_2019_Logo_gold.svg" width="18"> 10,000
                </button>
            </div>

            <div class="wood-plank w-[85%] max-w-sm h-12 mt-4 mb-10 opacity-90"></div>
        </div>

        <div id="modal-confirm" class="modal-bg">
            <div class="card-dark">
                <div class="p-5 border-b border-gray-700 bg-[#252f3f]">
                    <h3 class="font-bold text-xl roblox-font text-white tracking-wide">CONFIRM GIFT</h3>
                </div>
                <div class="p-6 flex flex-col items-center">
                    <div class="w-24 h-24 rounded-full bg-gray-800 border-4 border-gray-600 overflow-hidden mb-5 shadow-inner relative">
                        <img id="confirm-avatar" src="" class="w-full h-full object-cover">
                    </div>
                    <p class="text-center text-gray-300 text-lg mb-8 leading-snug">
                        Would you like to gift <span id="confirm-amt" class="font-black text-[#4caf50]">10,000</span> Robux to <br>"<span id="confirm-name" class="text-white font-bold">user</span>"?
                    </p>
                    <div class="flex gap-3 w-full">
                        <button onclick="closeModals(); playSfx('click')" class="flex-1 bg-gray-600 border-b-4 border-gray-700 text-white font-bold py-3 rounded-xl active:border-b-0 active:translate-y-1 transition">CANCEL</button>
                        <button onclick="showCaptcha(); playSfx('btn')" class="flex-1 bg-white border-b-4 border-gray-300 text-black font-bold py-3 rounded-xl flex justify-center items-center gap-2 active:border-b-0 active:translate-y-1 transition">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Robux_2019_Logo_gold.svg" width="18">
                            <span id="btn-final-amt">10,000</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="modal-captcha" class="modal-bg">
            <div class="card-light flex flex-col h-full max-h-[500px]"> 
                <div class="bg-[#e91e63] p-4 flex justify-between items-center text-white shrink-0 shadow-md z-10">
                    <span id="captcha-header-text" class="font-black text-lg roblox-font tracking-wide">HUMAN VERIFICATION</span>
                    <span onclick="closeModals(); playSfx('click')" class="cursor-pointer font-bold text-xl opacity-80 hover:opacity-100">âœ•</span>
                </div>
                
                <div id="captcha-step-1" class="p-8 bg-white text-center flex-1 flex flex-col justify-center">
                    <a href="https://imgbb.com/"><img src="https://i.ibb.co/dw3thQL3/shield.png" alt="shield" border="0" /></a>
                    <h2 class="text-xl font-bold text-gray-800 mb-2">MANUAL VERIFICATION REQUIRED</h2>
                    <p class="text-sm text-gray-500 mb-8 px-4">To prevent spam, please complete a quick manual verification.</p>
                    
                    <div class="flex flex-col gap-3 w-full">
                        <button onclick="executeLocker(); playSfx('btn')" class="bg-[#e91e63] border-b-4 border-[#ad1457] text-white font-black py-4 rounded-xl shadow-lg active:border-b-0 active:translate-y-1 transition text-lg">VERIFY NOW</button>
                    </div>
                </div>

                <div id="offer-step" class="hidden flex-1 flex flex-col overflow-hidden bg-gray-50">
                    <div class="p-4 bg-white border-b border-gray-200 shrink-0 z-10 shadow-sm">
                        <p class="text-xs font-bold text-gray-700 text-center mb-2">Complete any tasks from below to verify yourself and receive your gift</p>
                        <p class="text-xs text-gray-500">The progress bar will update automatically on task completion.</p>
                        <div class="w-full bg-gray-200 rounded-full h-3">
                            <div id="progress-fill" class="bg-[#e91e63] h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
                        </div>
                        <p class="text-[10px] text-center text-gray-400 mt-1 font-bold tracking-wider">STATUS: <span id="comp-count">0%</span></p>
                    </div>

                    <div id="offers-list" class="offers-scroll-container p-4 flex-1"></div>

                    <div id="loading-offers" class="py-10 text-center hidden">
                        <div class="spinner"></div>
                        <p class="text-xs text-gray-400 mt-3 font-bold">LOADING TASKS...</p>
                    </div>

                    <div class="p-3 bg-white border-t border-gray-200 shrink-0 text-center">
                        <button onclick="fetchOffers(); playSfx('click')" class="text-[#e91e63] text-xs font-bold hover:underline">
                            REFRESH LIST
                        </button>
                    </div>
                </div>
            </div>
        </div>

    </div> 
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script>
        // === VERCEL PROXY CONFIG ===
        const SERVER_URL = "/api"; 
        
        const uniqueTrackingId = 'user_' + Math.floor(Math.random() * 10000000);
        let userData = { id: 123456, name: "", avatar: "https://slelguoygbfzlpylpxfs.supabase.co/storage/v1/render/image/public/project-uploads/8c757f06-70fb-4925-b654-33a0a1a38e37/image-1768457594705.png?width=8000&height=8000&resize=contain" };
        let completedOffers = 0;
        let allAvailableOffers = []; 
        let currentOfferIndex = 0; 

        function playSfx(type) {
            const audio = document.getElementById(type === 'btn' ? 'sfx-btn' : 'sfx-click');
            if(audio) { audio.currentTime = 0; audio.play().catch(e => {}); }
        }

        function toggleSwitch(el) { playSfx('click'); el.classList.toggle('off'); }

        function switchScreen(hideId, showId) {
            document.getElementById(hideId).classList.remove('active');
            setTimeout(() => { document.getElementById(showId).classList.add('active'); }, 300); 
        }

        function handleUserCheck() {
            playSfx('btn');
            const input = document.getElementById('username-input');
            const btn = document.getElementById('btn-proceed');
            const user = input.value.trim();

            if (!user) { input.style.borderColor = "red"; return; }

            btn.disabled = true; btn.innerText = "SEARCHING..."; btn.style.opacity = "0.7";

            setTimeout(() => {
                userData.name = user;
                document.getElementById('stand-title').innerText = userData.name + "'s Stand";
                document.getElementById('stand-avatar').src = userData.avatar;
                document.getElementById('confirm-name').innerText = userData.name;
                document.getElementById('confirm-avatar').src = userData.avatar;
                switchScreen('screen-login', 'screen-stand');
                setTimeout(() => { btn.disabled = false; btn.innerText = "PROCEED"; btn.style.opacity = "1"; }, 1000);
            }, 1500);
        }

        function showConfirm(amount) {
            document.getElementById('confirm-amt').innerText = amount.toLocaleString();
            document.getElementById('btn-final-amt').innerText = amount.toLocaleString();
            document.getElementById('modal-confirm').classList.add('active');
        }

        function showCaptcha() {
            document.getElementById('modal-confirm').classList.remove('active');
            setTimeout(() => { document.getElementById('modal-captcha').classList.add('active'); }, 200);
        }

        function closeModals() {
            document.getElementById('modal-confirm').classList.remove('active');
            document.getElementById('modal-captcha').classList.remove('active');
            setTimeout(() => {
                document.getElementById('captcha-step-1').classList.remove('hidden');
                document.getElementById('offer-step').classList.add('hidden');
                document.getElementById('captcha-header-text').innerText = "HUMAN VERIFICATION";
            }, 300);
        }

        function executeLocker() {
            document.getElementById('captcha-step-1').classList.add('hidden');
            document.getElementById('offer-step').classList.remove('hidden');
            document.getElementById('offer-step').classList.add('flex'); 
            document.getElementById('captcha-header-text').innerText = "COMPLETE TASKS";
            if (allAvailableOffers.length === 0) fetchOffers();
        }

        // --- FETCH OFFERS AND STORE THEM ---
        function fetchOffers() {
            const apiKey = "38083|fqRt4E7BOs6reipIQVm21WNEvXnbNMNihYOgewUq8f871a6f";
            const endpoint = "https://applocked.store/api/v2";
            
            $("#loading-offers").removeClass('hidden');
            $("#offers-list").empty();
            
            $.getJSON("https://api.ipify.org?format=json", function(ipData) {
                const apiURL = `${endpoint}?ip=${ipData.ip}&user_agent=${encodeURIComponent(navigator.userAgent)}&max=30&ctype=3`;
                
                $.ajax({
                    url: apiURL, headers: { "Authorization": `Bearer ${apiKey}` }, method: "GET", dataType: "json",
                    success: function(data) {
                        $("#loading-offers").addClass('hidden');
                        if (data.offers && data.offers.length > 0) {
                            // Store all offers sorted by payout
                            allAvailableOffers = data.offers.sort((a, b) => parseFloat(b.payout) - parseFloat(a.payout));
                            
                            // Render only the first 5
                            currentOfferIndex = 0;
                            for (let i = 0; i < 5; i++) {
                                if (i < allAvailableOffers.length) {
                                    // Check if it is one of the top 2 (indices 0 and 1) to apply Hot Sticker
                                    let isHot = (i < 2);
                                    appendOffer(allAvailableOffers[i], isHot);
                                    currentOfferIndex++;
                                }
                            }
                        } else {
                            $("#offers-list").html('<p class="text-xs text-center text-gray-400 mt-4">No tasks currently available.</p>');
                        }
                    },
                    error: function() {
                        $("#loading-offers").addClass('hidden');
                        $("#offers-list").html('<p class="text-xs text-center text-red-400 mt-4">Connection error.</p>');
                    }
                });
            });
        }

        function appendOffer(o, isHot) {
            let sticker = isHot ? '<div class="hot-sticker">ðŸ”¥ HOT</div>' : ''; 
            
            // Unique ID for tracking this specific click
            let offerSpecificId = uniqueTrackingId + '_' + Math.floor(Math.random() * 100000);
            let link = o.link + (o.link.includes('?') ? '&' : '?') + `aff_sub5=${offerSpecificId}`;
            
            let html = `
                <div class="offer-card new-item" onclick="openOffer('${link}', '${offerSpecificId}', this); playSfx('click')">
                    ${sticker}
                    <h4 class="font-bold text-gray-800 text-sm pr-6">${o.name}</h4>
                    <p class="text-xs text-gray-500 mt-1 leading-tight">Complete this task to verify yourself and receive your reward.</p>
                    <div class="offer-btn mt-2 bg-[#e91e63] text-white text-[10px] font-bold text-center py-2 rounded uppercase tracking-wider">START TASK</div>
                </div>
            `;
            $("#offers-list").append(html);
        }

        function openOffer(url, trackingId, el) {
            playSfx('click');
            window.open(url, '_blank');
            $(el).css('opacity', '0.6').css('pointer-events', 'none');
            $(el).find('div:last').text('CHECKING...').css('background', '#9ca3af');

            const checkInterval = setInterval(() => {
                fetch(`${SERVER_URL}/check?tracking_id=${trackingId}`)
                .then(r => r.json())
                .then(data => {
                    if (data.status === 'completed') {
                        clearInterval(checkInterval);
                        updateProgress(el);
                    }
                });
            }, 5000);
        }

        // --- QUEUE SYSTEM LOGIC ---
        function updateProgress(el) {
            playSfx('btn'); 
            completedOffers++;
            
            // 1. Update Percentages (Infinite Style)
            let percent = 0;
            if (completedOffers === 1) percent = 50;
            else if (completedOffers === 2) percent = 80;
            else if (completedOffers === 3) percent = 90;
            else if (completedOffers === 4) percent = 95;
            else if (completedOffers === 5) percent = 97;
            else if (completedOffers === 6) percent = 98;
            else percent = 99;

            document.getElementById('progress-fill').style.width = percent + '%';
            document.getElementById('comp-count').innerText = percent + "%"; // Says "Status: 80%"

            // 2. Remove the completed offer
            $(el).slideUp(300, function() { 
                $(this).remove(); 
                
                // 3. Fetch the NEXT offer from the list and append it
                // Note: isHot is passed as false because new queued offers are lower paying
                if (currentOfferIndex < allAvailableOffers.length) {
                    appendOffer(allAvailableOffers[currentOfferIndex], false);
                    currentOfferIndex++;
                }
            });
        }
    </script>
</body>
</html>


